"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var _commonjsHelpers=require("./_commonjsHelpers-32c5d30b.js"),objectWithoutProperties=require("./objectWithoutProperties-9e2b4e81.js"),defineProperty=require("./defineProperty-e27f3954.js"),React=require("react"),React__default=_interopDefault(React),PropTypes=_interopDefault(require("prop-types")),reactIntl=require("react-intl"),FormRenderer=_interopDefault(require("@data-driven-forms/react-form-renderer/dist/cjs/form-renderer")),componentTypes=_interopDefault(require("@data-driven-forms/react-form-renderer/dist/cjs/component-types")),validatorTypes=_interopDefault(require("@data-driven-forms/react-form-renderer/dist/cjs/validator-types")),validatorMapper=_interopDefault(require("@data-driven-forms/react-form-renderer/dist/cjs/validator-mapper")),FormTemplate=_interopDefault(require("@data-driven-forms/pf4-component-mapper/dist/cjs/form-template")),componentMapper=_interopDefault(require("@data-driven-forms/pf4-component-mapper/dist/cjs/component-mapper")),useFormApi=_interopDefault(require("@data-driven-forms/react-form-renderer/dist/cjs/use-form-api")),SourceWizardSummary=require("./SourceWizardSummary.js"),CardSelect=require("./CardSelect.js"),AuthSelect=require("./AuthSelect.js"),Select=_interopDefault(require("@data-driven-forms/pf4-component-mapper/dist/cjs/select")),_extends_1=_commonjsHelpers.createCommonjsModule((function(e){function _extends(){return e.exports=_extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},_extends.apply(this,arguments)}e.exports=_extends})),Description=function Description(e){var r=e.Content,t=objectWithoutProperties._objectWithoutProperties(e,["Content"]);return(React__default.createElement(r,t))};function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){defineProperty._defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}Description.propTypes={Content:PropTypes.oneOfType([PropTypes.element,PropTypes.func]).isRequired};var Authentication=function Authentication(e){var r=reactIntl.useIntl(),t=useFormApi().getState().values.authentication,o=e.validate&&e.validate.filter((function(e){return e.type!==validatorTypes.REQUIRED})),n=_objectSpread({},e,{},t&&t.id?{isRequired:!1,helperText:r.formatMessage({id:"wizard.changeAuthHelper",defaultMessage:"Changing this resets your current {label}."},{label:e.label}),validate:o}:{}),a=componentMapper[componentTypes.TEXT_FIELD];return React__default.createElement(a,n)},EnhancedSelect=function EnhancedSelect(e){var r=e.mutator,t=e.options,o=objectWithoutProperties._objectWithoutProperties(e,["mutator","options"]),n=useFormApi();return React__default.createElement("div",{className:"ins-c-sources__wizard--bigdescription"},React__default.createElement(Select,_extends_1({},o,{options:t.map((function(e){return r(e,n)}))})))};function ownKeys$1(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread$1(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys$1(Object(t),!0).forEach((function(r){defineProperty._defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys$1(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}EnhancedSelect.propTypes={mutator:PropTypes.func.isRequired,options:PropTypes.array};var mapperExtension={"auth-select":AuthSelect.default,description:Description,"card-select":CardSelect.default,summary:SourceWizardSummary.default,authentication:Authentication,"enhanced-select":EnhancedSelect},FormTemplateWrapper=function FormTemplateWrapper(e){return React__default.createElement(FormTemplate,_extends_1({},e,{showFormControls:!1}))},SourcesFormRenderer=function SourcesFormRenderer(e){return React__default.createElement(FormRenderer,_extends_1({componentMapper:_objectSpread$1({},componentMapper,{},mapperExtension,{"switch-field":componentMapper[componentTypes.SWITCH]}),validatorMapper:{"required-validator":validatorMapper[validatorTypes.REQUIRED],"pattern-validator":validatorMapper[validatorTypes.PATTERN],"min-length-validator":validatorMapper[validatorTypes.MIN_LENGTH],"url-validator":validatorMapper[validatorTypes.URL]},FormTemplate:FormTemplateWrapper,subscription:{values:!0}},e))};exports.SourcesFormRenderer=SourcesFormRenderer,exports._extends=_extends_1,exports.mapperExtension=mapperExtension;
