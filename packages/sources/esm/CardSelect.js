import{_ as e}from"./objectWithoutProperties-be1375b5.js";import{_ as r}from"./slicedToArray-1bde1c63.js";import t,{useState as o}from"react";import n from"prop-types";import{_ as a}from"./toConsumableArray-6a92248c.js";import i from"@data-driven-forms/react-form-renderer/dist/cjs/use-form-api";import{Card as l}from"@patternfly/react-core/dist/esm/components/Card/Card.js";import{CardBody as s}from"@patternfly/react-core/dist/esm/components/Card/CardBody.js";import{FormGroup as c}from"@patternfly/react-core/dist/esm/components/Form/FormGroup.js";import{Grid as m}from"@patternfly/react-core/dist/esm/layouts/Grid/Grid.js";import{GridItem as u}from"@patternfly/react-core/dist/esm/layouts/Grid/GridItem.js";import{Bullseye as d}from"@patternfly/react-core/dist/esm/layouts/Bullseye/Bullseye.js";import{CardTitle as p}from"@patternfly/react-core/dist/esm/components/Card/CardTitle.js";import f from"@data-driven-forms/react-form-renderer/dist/cjs/use-field-api";var b=function CardSelect(n){var b=f(n),y=b.isRequired,h=b.label,v=b.helperText,C=b.hideLabel,j=b.meta,E=b.input,T=b.options,x=b.mutator,M=b.DefaultIcon,D=b.iconMapper,I=e(b,["isRequired","label","helperText","hideLabel","meta","input","options","mutator","DefaultIcon","iconMapper"]),R=i(),G=o((function(){var e={};return T.forEach((function(r){var t=r.value;return e[t]=D(t,M)})),e})),k=r(G,1)[0],q=I.isMulti||I.multi,P=I.isDisabled||I.isReadOnly,_=E.value||[],g=function handleClick(e){return q?function handleMulti(e){return E.onChange(_.includes(e)?_.filter((function(r){return r!==e})):[].concat(a(_),[e]))}(e):function handleSingle(e){return E.onChange(_===e?void 0:e)}(e)},B=function onClick(e){P||(g(e),E.onBlur())},N=j.error,K=j.touched&&N;return t.createElement(c,{isRequired:y,label:!C&&h,fieldId:E.name,helperText:v,helperTextInvalid:N,validated:K?"error":"default"},t.createElement(m,{hasGutter:!0,className:"pf-u-mb-md"},function prepareCards(){return T.map((function(e){return x(e,R)})).map((function(e){var r=e.value,o=e.label,n=e.isDisabled||P;if(r){var a=k[r];return(t.createElement(u,{sm:6,md:4,key:r},t.createElement(l,{className:"ins-c-sources__wizard--card".concat(_.includes(r)?" selected":"").concat(n?" disabled":""),onClick:function onClick(){return B(r)},tabIndex:n?-1:0,onKeyPress:function onKeyPress(e){return function handleKeyPress(e,r,t){32===e.charCode&&(e.preventDefault(),t(r))}(e,r,B)},isHoverable:!n,isCompact:!0},t.createElement("div",{className:n?"disabled":""},!a&&t.createElement(p,{className:"text-elipsis"},o),a&&t.createElement(s,null,t.createElement(d,null,t.createElement(a,{size:"md"})))))))}}))}()))};b.propTypes={multi:n.bool,isMulti:n.bool,label:n.node,isRequired:n.bool,helperText:n.node,description:n.node,hideLabel:n.bool,name:n.string.isRequired,mutator:n.func,options:n.array,DefaultIcon:n.oneOfType([n.node,n.func,n.element]),iconMapper:n.func,isDisabled:n.bool,isReadOnly:n.bool},b.defaultProps={options:[],iconMapper:function iconMapper(e,r){return r},mutator:function mutator(e){return e}};export default b;
