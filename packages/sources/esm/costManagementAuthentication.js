import{_ as t}from"./objectWithoutProperties-be1375b5.js";import"@redhat-cloud-services/frontend-components-utilities/files/cjs/interceptors";import{COST_MANAGEMENT_API_BASE as n}from"./constants.js";import{a as e}from"./index-713c67d9.js";var r=function delay(t,n){return new Promise((function(e){setTimeout(e.bind(null,n),t)}))};function patchSource(c){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return new Promise((function(u,s){var a=Date.now(),f=c.id,h=t(c,["id"]);return function checkSource(){return e.get("".concat(n,"/sources/").concat(f,"/")).catch((function(t){return Date.now()-a>=o?Promise.reject("Cost Management failed tracking source: ".concat(JSON.stringify(t))):r(i).then((function(){return checkSource()}))}))}().then((function(){return e.patch("".concat(n,"/sources/").concat(f,"/"),h)})).then((function(t){return u(t)})).catch((function(t){return s(t)}))}))}export{r as delay,patchSource};
